def branches = []
def credentialsId = 'your_credentials_id' // Replace with your Git credentials ID

try {
    def git = checkout(
        changelog: false,
        poll: false,
        scm: [$class: 'GitSCM', branches: [[name: '**']], doGenerateSubmoduleConfigurations: false, extensions: [], userRemoteConfigs: [[url: 'your_git_repository_url', credentialsId: credentialsId]]]
    )
    branches = git.branches
} catch (Exception e) {
    branches = ['Error retrieving branches']
}

return branches
